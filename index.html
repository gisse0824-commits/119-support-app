<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1a1b26">
    
    <title>ë¹„í™”ì¬ë³´ ì¶œë™ ì§€ì› ì‹œìŠ¤í…œ</title>

    <style>
        body {
            margin: 0; padding: 0; background-color: #1a1b26;
            font-family: 'Pretendard', 'Malgun Gothic', sans-serif; color: white;
            display: flex; flex-direction: column; align-items: center; min-height: 100vh;
            touch-action: manipulation;
        }
        .header-badge {
            margin-top: 40px; background-color: rgba(255, 77, 77, 0.1);
            border: 1px solid rgba(255, 77, 77, 0.3); color: #ff6b6b;
            padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: bold;
        }
        .main-title { font-size: 36px; font-weight: 800; margin: 20px 0 30px 0; text-align: center; line-height: 1.2; }
        .highlight-red { color: #ff4d4d; }

        .search-container { position: relative; width: 90%; max-width: 500px; margin-bottom: 15px; }
        .search-input {
            width: 100%; padding: 16px 20px; padding-right: 80px;
            background-color: #24283b; border: 2px solid #414868; border-radius: 50px;
            color: #fff; font-size: 16px; outline: none; box-sizing: border-box;
        }
        .search-btn {
            position: absolute; right: 6px; top: 6px; bottom: 6px;
            background-color: #007bff; color: white; border: none; border-radius: 40px;
            padding: 0 18px; cursor: pointer; font-weight: bold;
        }

        .example-area {
            width: 90%; max-width: 500px; 
            display: flex; justify-content: center; gap: 8px; flex-wrap: wrap;
            margin-bottom: 30px;
        }
        .tag-btn {
            background-color: #24283b; color: #a9b1d6; 
            border: 1px solid #414868; border-radius: 20px;
            padding: 8px 12px; font-size: 13px; cursor: pointer;
        }

        #result-area { width: 92%; max-width: 500px; padding-bottom: 50px; }
        .info-card {
            background-color: #24283b; border-radius: 16px; padding: 20px;
            margin-bottom: 15px; border: 1px solid #414868; box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .building-name { font-size: 20px; font-weight: bold; color: #7aa2f7; margin-bottom: 5px; }
        .addr-box { font-size: 13px; color: #a9b1d6; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #414868; }
        .data-row { margin-bottom: 15px; position: relative; }
        .data-label { display: inline-block; color: #ff9e64; font-size: 12px; font-weight: bold; margin-bottom: 4px; }
        
        .data-content {
            background-color: #16161e; padding: 12px; border-radius: 8px;
            font-size: 15px; line-height: 1.5; border-left: 4px solid #ff4d4d;
            display: flex; justify-content: space-between; align-items: center;
        }
        
        .btn-group { display: flex; gap: 5px; }
        .action-btn {
            padding: 6px 10px; border-radius: 6px; font-size: 13px; font-weight: bold; 
            text-decoration: none; border: none; cursor: pointer;
        }
        .call-btn { background-color: #4caf50; color: white; }
        .edit-btn { background-color: #414868; color: #bb9af7; border: 1px solid #bb9af7; }

        .history-list { margin: 0; padding-left: 20px; color: #a9b1d6; font-size: 13px; }

        .map-btn-group { display: flex; gap: 8px; margin-top: 5px; }
        .map-btn {
            flex: 1; text-align: center; padding: 10px 0; border-radius: 8px;
            text-decoration: none; font-size: 13px; font-weight: bold; color: white;
        }
        .tmap { background-color: #E6002D; } 
        .kakao { background-color: #FEE500; color: #191919; } 
        .naver { background-color: #03C75A; } 
    </style>
</head>
<body>

    <div class="header-badge">ì¸ì²œì†Œë°©ë³¸ë¶€</div>
    
    <div class="main-title">
        ë¹„í™”ì¬ë³´(ì˜¤ì¸)<br>
        <span class="highlight-red">ì¶œë™ ì§€ì› ì‹œìŠ¤í…œ</span>
    </div>

    <div class="search-container">
        <input type="text" id="searchInput" class="search-input" placeholder="ê±´ë¬¼ëª… ë˜ëŠ” ì£¼ì†Œ ì…ë ¥" onkeyup="if(window.event.keyCode==13){searchBuilding()}">
        <button class="search-btn" onclick="searchBuilding()">ê²€ìƒ‰</button>
    </div>

    <div class="example-area">
        <button class="tag-btn" onclick="setSearch('ë¯¸ì¶”í™€ ì•„íŒŒíŠ¸')">#ë¯¸ì¶”í™€ì•„íŒŒíŠ¸</button>
        <button class="tag-btn" onclick="setSearch('ì¸ì²œíƒ€ì›Œ ìƒê°€')">#ì¸ì²œíƒ€ì›Œ</button>
        <button class="tag-btn" onclick="setSearch('ë‚¨ë™êµ¬ì²­')">#ë‚¨ë™êµ¬ì²­</button>
        <button class="tag-btn" onclick="setSearch('ê¸¸ë³‘ì›')">#ê¸¸ë³‘ì›</button>
    </div>

    <div id="result-area"></div>

    <script>
        const buildingData = [
            {
                name: "ë¯¸ì¶”í™€ ì•„íŒŒíŠ¸ 101ë™",
                newAddr: "ì¸ì²œ ë¯¸ì¶”í™€êµ¬ ì†Œë°©ë¡œ 123",
                oldAddr: "ê´€êµë™ 11-1",
                panelLoc: "1ì¸µ ê²½ë¹„ì‹¤ ë‚´ë¶€ ìš°ì¸¡ ë²½ë©´ (Pí˜•)",
                manager: "ë°•ê´€ë¦¬ 010-1234-5678",
                note: "ì§€í•˜ì£¼ì°¨ì¥ ìŠµê¸°ë¡œ ì¸í•œ ì¦ì€ ì˜¤ì‘ë™ ë°œìƒí•¨.",
                history: ["24.11.20 - ì§€í•˜1ì¸µ ìŠµê¸° ì˜¤ì‘ë™", "24.08.15 - ì„¸ëŒ€ ë‚´ ìŒì‹ë¬¼ ì—°ê¸°"]
            },
            {
                name: "ì¸ì²œíƒ€ì›Œ ìƒê°€",
                newAddr: "ì¸ì²œ ë¯¸ì¶”í™€êµ¬ ì¸í•˜ë¡œ 55",
                oldAddr: "ìš©í˜„ë™ 22-5",
                panelLoc: "ì§€í•˜ 2ì¸µ ë°©ì¬ì‹¤ (Rí˜• ìˆ˜ì‹ ê¸°)",
                manager: "ê¹€ì†Œì¥ 010-9876-5432",
                note: "ì•¼ê°„ ì •ë¬¸ ì ê¹€. ê±´ë¬¼ ë’¤í¸ ë³´ì•ˆì‹¤ í˜¸ì¶œ í•„ìˆ˜.",
                history: ["24.10.05 - ê³µì‚¬í˜„ì¥ ë¶„ì§„", "24.02.11 - 1ì¸µ ì‹ë‹¹ ê°ì§€ê¸° ì˜¤ì‘ë™"]
            },
            {
                name: "ë‚¨ë™êµ¬ì²­",
                newAddr: "ì¸ì²œ ë‚¨ë™êµ¬ ì†Œë˜ë¡œ 633",
                oldAddr: "ë§Œìˆ˜ë™ 908-4",
                panelLoc: "1ì¸µ ì¤‘ì•™ í˜„ê´€ ê²½ë¹„ì‹¤ (Pí˜• ìˆ˜ì‹ ê¸°)",
                manager: "ì‹œì„¤íŒ€ 032-466-3811",
                note: "ì•¼ê°„ ì‹œ í›„ë¬¸ íì‡„, ì •ë¬¸ìœ¼ë¡œë§Œ ì§„ì… ê°€ëŠ¥.",
                history: ["25.10.12 - 3ì¸µ ë¯¼ì›ì‹¤ ì˜¤ì‘ë™", "25.04.05 - ì§€í•˜ ì£¼ì°¨ì¥ ìŠµê¸°"]
            },
            {
                name: "ê°€ì²œëŒ€ ê¸¸ë³‘ì› (ì‘ê¸‰ì„¼í„°)",
                newAddr: "ì¸ì²œ ë‚¨ë™êµ¬ ë‚¨ë™ëŒ€ë¡œ 774ë²ˆê¸¸ 21",
                oldAddr: "êµ¬ì›”ë™ 1198",
                panelLoc: "ì§€í•˜ 1ì¸µ ë°©ì¬ì„¼í„° (Rí˜• ìˆ˜ì‹ ê¸°)",
                manager: "ë³´ì•ˆíŒ€ 032-460-3333",
                note: "ì¤‘í™˜ì ë‹¤ìˆ˜ êµ¬ì—­. ì‚¬ì´ë Œ ìµœì†Œí™” ë° ì¡°ìš©í•œ ì§„ì… ê¶Œì¥.",
                history: ["25.12.01 - ì‘ê¸‰ì‹¤ ë² ë“œ ì¸ê·¼ ì˜¤ì‘ë™", "25.07.22 - ì¡°ë¦¬ì‹¤ ì—°ê¸° ì˜¤ì¸"]
            }
        ];

        function setSearch(keyword) {
            document.getElementById('searchInput').value = keyword;
            searchBuilding();
        }

        function requestFieldEdit(buildingName, fieldLabel, currentValue) {
            const newValue = prompt(`[${buildingName}] ${fieldLabel} ì •ë³´ ìˆ˜ì •\n\ní˜„ì¬ ë‚´ìš©: ${currentValue}\nìˆ˜ì •í•  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”:`);
            
            if (newValue && newValue !== currentValue) {
                alert(`'${fieldLabel}' ìˆ˜ì • ìš”ì²­ì´ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.\nê²€í†  í›„ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.`);
            }
        }

        function searchBuilding() {
            const input = document.getElementById('searchInput').value.trim();
            const resultArea = document.getElementById('result-area');
            
            if(input === "") { alert("ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }

            resultArea.innerHTML = "";
            const normalizedInput = input.replace(/\s+/g, ""); 
            
            const results = buildingData.filter(item => {
                const normalizedName = item.name.replace(/\s+/g, "");
                const normalizedNewAddr = item.newAddr.replace(/\s+/g, "");
                const normalizedOldAddr = item.oldAddr.replace(/\s+/g, "");

                return normalizedName.includes(normalizedInput) || 
                       normalizedNewAddr.includes(normalizedInput) ||
                       normalizedOldAddr.includes(normalizedInput);
            });

            if(results.length === 0) {
                resultArea.innerHTML = "<div style='text-align:center; color:#565f89; margin-top:20px;'>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>";
                return;
            }

            results.forEach(item => {
                const phoneNum = item.manager.replace(/[^0-9]/g, '');
                const historyList = item.history.map(log => `<li>${log}</li>`).join('');

                const html = `
                    <div class="info-card">
                        <div class="building-name">${item.name}</div>
                        <div class="addr-box">${item.newAddr}</div>
                        
                        <div class="data-row">
                            <span class="data-label">ğŸš¨ ìˆ˜ì‹ ë°˜(ìˆ˜ì‹ ê¸°) ìœ„ì¹˜</span>
                            <div class="data-content" style="font-weight:bold; color:#fff;">
                                <span>${item.panelLoc}</span>
                                <button class="action-btn edit-btn" onclick="requestFieldEdit('${item.name}', 'ìˆ˜ì‹ ê¸° ìœ„ì¹˜', '${item.panelLoc}')">ìˆ˜ì •</button>
                            </div>
                        </div>

                        <div class="data-row">
                            <span class="data-label">ğŸ“ ê´€ê³„ì¸ ì—°ë½ì²˜</span>
                            <div class="data-content">
                                <span>${item.manager}</span>
                                <div class="btn-group">
                                    <a href="tel:${phoneNum}" class="action-btn call-btn">í†µí™”</a>
                                    <button class="action-btn edit-btn" onclick="requestFieldEdit('${item.name}', 'ì—°ë½ì²˜', '${item.manager}')">ìˆ˜ì •</button>
                                </div>
                            </div>
                        </div>

                        <div class="data-row">
                            <span class="data-label">ğŸ“ ì£¼ìš” íŠ¹ì´ì‚¬í•­</span>
                            <div class="data-content" style="border-left-color:#7aa2f7;">
                                <span style="color:#c0caf5;">${item.note}</span>
                                <button class="action-btn edit-btn" onclick="requestFieldEdit('${item.name}', 'íŠ¹ì´ì‚¬í•­', '${item.note}')">ìˆ˜ì •</button>
                            </div>
                        </div>

                        <div class="data-row">
                            <span class="data-label">ğŸ•’ ê³¼ê±° ì¶œë™ ì´ë ¥</span>
                            <div class="data-content" style="border-left-color:#bb9af7;">
                                <ul class="history-list">${historyList}</ul>
                            </div>
                        </div>

                        <div class="data-row" style="margin-top:25px; padding-top:15px; border-top:1px dashed #414868;">
                            <span class="data-label">ğŸ—ºï¸ ê¸¸ì•ˆë‚´ (ë‚´ë¹„ê²Œì´ì…˜)</span>
                            <div class="map-btn-group">
                                <a href="tmap://search?name=${item.newAddr}" class="map-btn tmap">T map</a>
                                <a href="kakaomap://search?q=${item.newAddr}" class="map-btn kakao">ì¹´ì¹´ì˜¤ë§µ</a>
                                <a href="nmap://search?query=${item.newAddr}" class="map-btn naver">ë„¤ì´ë²„</a>
                            </div>
                        </div>
                    </div>
                `;
                resultArea.innerHTML += html;
            });
        }
    </script>
</body>
</html>
